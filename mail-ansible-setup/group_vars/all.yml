ansible_become_password: "cst8246"

# ────────────────
# 🌐 Domain & Network Settings
# ────────────────
domain_name: "example48.lab"                # Primary domain used throughout the lab
domain_ex: "example48.lab"                  # Duplicate of domain_name (can be removed or aliased)
domain_site: "site48.lab"                   # Secondary domain used in DNS zones

srv_ip: "172.16.30.48"                      # Server IP (alias for mailserver_ip)
cli_ip: "172.16.31.48"                      # Client IP
alias_ip: "172.16.32.48"                    # Alias IP (for hostname entry)
ns2_ip: "172.16.31.48"                      # Same as cli_ip (can reuse variable)

server_network: "172.16.30.0/24"
client_network: "172.16.31.0/24"
alias_network: "172.16.32.0/24"

internal_nets:
  - "{{ server_network }}"
  - "{{ client_network }}"
  - "172.16.0.0/24"

blocked_net: "172.16.32.0/24"

# ────────────────
# 🔐 LDAP Settings
# ────────────────
ldap_domain: "{{ domain_name }}"
ldap_suffix: "dc={{ domain_name.split('.')[0] }},dc={{ domain_name.split('.')[1] }}"
ldap_uri: "ldap://{{ srv_ip }}"
ldap_bind_dn: "cn=Directory Manager"
ldap_bind_pw: "cst8246cst8246"

# ────────────────
# 📧 Mail Server (Postfix & Dovecot)
# ────────────────
mailserver_ip: "{{ srv_ip }}"
mailclient_ip: "{{ cli_ip }}"
mailhost_ip: "172.16.0.1"

postfix_masquerade_domain: "{{ domain_name }}"
postfix_inet_interfaces: "127.0.0.1, {{ mailserver_ip }}"
postfix_mynetworks: "127.0.0.0/8 {{ internal_nets | join(' ') }}"

dovecot_mail_location: "maildir:~/Maildir"
dovecot_disable_plaintext_auth: "no"
dovecot_auth_mechanisms: "plain login"

# ────────────────
# 👥 User Management
# ────────────────
mail_users:
  - root
  - cst8246
  - desertblume
  - abc

desertblume_password_hash: "<provided-hash>"

# ────────────────
# 🌐 Webmail (Roundcube)
# ────────────────
roundcube_version: "1.5.11"
roundcube_archive_url: "https://github.com/roundcube/roundcubemail/releases/download/{{ roundcube_version }}/roundcubemail-{{ roundcube_version }}-complete.tar.gz"
roundcube_install_dir: "/var/www/html/roundcube"
roundcube_web_alias: "/webmail"

# ────────────────
# 🧭 DNS Zones
# ────────────────
zones:
  - name: "{{ domain_name }}"
    file: "fwd.{{ domain_name }}"
  - name: "{{ domain_site }}"
    file: "fwd.{{ domain_site }}"
  - name: "16.172.in-addr.arpa"
    file: "named.16.172"

# ────────────────
# 🌐 Common Ports
# ────────────────
http_port: "80"
https_port: "443"

